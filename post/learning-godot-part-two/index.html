<div class="single">
  <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.15" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="http://jeremyceri.se/css/styles.css">
    <link rel="stylesheet" href="http://jeremyceri.se/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://jeremyceri.se//index.xml">

    
    <title>Learning Godot Part 2: Adding a simple AI to the Pong Example - Jeremy Cerise</title>
    <meta property='og:title' content="Learning Godot Part 2: Adding a simple AI to the Pong Example - Jeremy Cerise">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://jeremyceri.se/post/learning-godot-part-two/">
    
    <meta property="og:image" content="http://jeremyceri.se/images/pong_score.png">

  </head>

  <body>

    <header class="site">
      <div class="title"><a href="http://jeremyceri.se/">Jeremy Cerise</a></div>
      <div class="sub-title">Software Engineer, Web Developer, Professional Jack of All Trades</div>
    </header>

    <div class="container site">


  <div class="row">
    <div class="col-sm-9">

      <article class="single" itemscope="itemscope" itemtype="http://schema.org/Article">

        <meta itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" content="http://jeremyceri.se/"/>
        <meta itemprop="dateModified" content="2016-04-02T09:42:50-06:00">
        <meta itemprop="headline" content="Learning Godot Part 2: Adding a simple AI to the Pong Example">
        <meta itemprop="description" content="Last time, in Part one, we took the Godot Pong example, and extended it by adding a score keeping system (using some sweet hand drawn sprite images). In this installment, we&rsquo;re gonna add a very simple AI to the game, so it can be played as a single player game, rather than a two player game, as the tutorial designed it. Let&rsquo;s get started! Lets talk briefly about what we want our AI (Artificial Intelligence) to do.">
        <meta itemprop="url" content="http://jeremyceri.se/post/learning-godot-part-two/">
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
          <meta itemprop="url" content="http://jeremyceri.se/images/pong_score.png" />
          <meta itemprop="width" content="800">
          <meta itemprop="height" content="800">
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
          <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <meta itemprop="url" content="http://jeremyceri.se/images/logo.jpg">
            <meta itemprop="width" content="100">
            <meta itemprop="height" content="100">
          </div>
          <meta itemprop="name" content="Jeremy Cerise">
        </div>
        <div itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="Jeremy Cerise">
        </div>

        <div class="image" style="background-image: url(http://jeremyceri.se/images/pong_score.png);"></div>

        <header class="article-header">
          <time itemprop="datePublished" pubdate="pubdate" datetime="2016-04-02T09:42:50-06:00">Sat, Apr 2, 2016</time>
          <h1 class="article-title">Learning Godot Part 2: Adding a simple AI to the Pong Example</h1>
        </header>

        <div class="article-body" itemprop="articleBody">
          <p>Last time, in <a href="http://jeremyceri.se/post/learning-godot-part-one/">Part one</a>, we
took the Godot <a href="http://docs.godotengine.org/en/latest/tutorials/step_by_step/simple_2d_game.html">Pong example</a>,
and extended it by adding a score keeping system (using some sweet hand drawn
sprite images). In this installment, we&rsquo;re gonna add a very simple AI to the
game, so it can be played as a single player game, rather than a two player
game, as the tutorial designed it. Let&rsquo;s get started!</p>

<p>Lets talk briefly about what we want our AI (Artificial Intelligence) to do.
Ideally, we want it to track the position of the ball as it moves around the
screen, and position its paddle in a position such that it will catch the ball
when it gets close. We also want it to obey the same rules as the player, so the
game remains fair. This means it should not be able to move any faster than there
player can (unless you want an unfair challenge!). Pong is about the simplest
example of game AI there is, so this should be pretty easy to implement.</p>

<p>Essentially, what we want the opponents (right hand side) paddle to do is
constantly move towards the balls y position, along the paddles y axis (we
obviously don&rsquo;t want the paddle to move outside the x position it starts in).
Turns out this is pretty easy to do:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="k">if</span> <span class="p">(</span><span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
  <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
<span class="k">if</span> <span class="p">(</span><span class="n">oppopnent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
  <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
</code></pre></div>


<p>All that does is check the y position of the opponents paddle against the y
position of the ball. If the paddles y value is less than the balls y position,
then the paddle is above the ball, and it needs to move down. If the paddles y
position is greater than the balls y position, the paddle is below the ball, and
it needs to move up. This results in the paddle moving around the screen
constantly unless its y position matches that of the ball. As a side effect of
how our paddle is set up in Godot (the origin of the paddle is the center of the
sprite), the paddle will always try to contact the ball in the center of the
paddle.</p>

<p>So, where do we put this? Well, I decided to break out the update calls for the
player and the opponent into separate functions. The player function looks like
this:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="n">func</span> <span class="n">update_player</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Updates the position of the player (left side paddle), based on input from the user</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">var</span> <span class="n">player_pos</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">Input</span><span class="o">.</span><span class="n">is_action_pressed</span><span class="p">(</span><span class="s2">&quot;left_move_up&quot;</span><span class="p">)):</span>
		<span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">Input</span><span class="o">.</span><span class="n">is_action_pressed</span><span class="p">(</span><span class="s2">&quot;left_move_down&quot;</span><span class="p">)):</span>
		<span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>

	<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">player_pos</span><span class="p">)</span>
</code></pre></div>


<p>For the opponent update function, if you were keeping the two player functionality,
it would look very similar (with &lsquo;player&rsquo; replaced with &lsquo;opponent&rsquo;, and the action
keys updated accordingly). But for the AI version, it looks like this:</p>

<p><div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="n">func</span> <span class="n">update_opponent</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">ball_pos</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Updates the position of the opponent (right side paddle). The paddle will always try to move toawards</span>
<span class="sd">	the y position of the ball.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">var</span> <span class="n">opponent_pos</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>

	<span class="c1"># Only move the AI paddle if the ball is heading towards it</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
			<span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
			<span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>

	<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">opponent_pos</span><span class="p">)</span>
</code></pre></div>
</p>

<p>As you can see, we replaced the checks for key presses with the code from above
that checks the position of the paddle against the position of the ball. I also
added the check to make sure the paddle can&rsquo;t leave the visible area of the screen.
We are also passing in the ball position, so we can check it against the paddle.
The keen eyed will also notice I added a check on the current ball direction. This
makes the paddle only move when the ball is moving towards it (this is a personal
preference for how the game looks, feel free to remove it).</p>

<p>The last thing we need to do is add a couple calls to these new functions at the end
of our _process call:</p>

<p><div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="n">update_player</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
<span class="n">update_opponent</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">ball_pos</span><span class="p">)</span>
</code></pre></div>
</p>

<p>And thats it! You should be able to fire up your game, and play against a very
simple AI! The full code of our main game script can be seen here:</p>

<p><div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="n">extends</span> <span class="n">Node2D</span>

<span class="n">var</span> <span class="n">screen_size</span>
<span class="n">var</span> <span class="n">pad_size</span>

<span class="n">var</span> <span class="n">player_score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">var</span> <span class="n">opponent_score</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">var</span> <span class="n">ball_speed</span> <span class="o">=</span> <span class="mi">80</span>
<span class="n">var</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">const</span> <span class="n">PAD_SPEED</span> <span class="o">=</span> <span class="mi">150</span>

<span class="n">func</span> \<span class="n">_ready</span><span class="p">():</span>
	<span class="n">screen_size</span> <span class="o">=</span> <span class="n">get_viewport_rect</span><span class="p">()</span><span class="o">.</span><span class="n">size</span>
	<span class="n">pad_size</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_texture</span><span class="p">()</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
	<span class="n">set_process</span><span class="p">(</span><span class="n">true</span><span class="p">)</span>

<span class="n">func</span> \<span class="n">_process</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
	<span class="c1"># First, check to see if the exit (escape) key is pressed</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="o">.</span><span class="n">is_action_pressed</span><span class="p">(</span><span class="s2">&quot;escape&quot;</span><span class="p">)):</span>
		<span class="c1"># If escape is pressed, switch back to the main menu</span>
		<span class="n">get_node</span><span class="p">(</span><span class="s1">&#39;/root/global&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_scene</span><span class="p">(</span><span class="s1">&#39;res://main_menu.scn&#39;</span><span class="p">)</span>


	<span class="n">var</span> <span class="n">ball_pos</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;ball&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
	<span class="n">var</span> <span class="n">player_rect</span> <span class="o">=</span> <span class="n">Rect2</span><span class="p">(</span><span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span> <span class="o">-</span> <span class="n">pad_size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pad_size</span><span class="p">)</span>
	<span class="n">var</span> <span class="n">opponent_rect</span> <span class="o">=</span> <span class="n">Rect2</span><span class="p">(</span><span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span> <span class="o">-</span> <span class="n">pad_size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pad_size</span><span class="p">)</span>

	<span class="n">ball_pos</span> <span class="o">+=</span> <span class="n">direction</span> <span class="o">*</span> <span class="n">ball_speed</span> <span class="o">*</span> <span class="n">delta</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">direction</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">direction</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)):</span>
		<span class="n">direction</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="n">direction</span><span class="o">.</span><span class="n">y</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">player_rect</span><span class="o">.</span><span class="n">has_point</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">)</span> <span class="ow">and</span> <span class="n">direction</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">opponent_rect</span><span class="o">.</span><span class="n">has_point</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">)</span> <span class="ow">and</span> <span class="n">direction</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)):</span>
		<span class="n">direction</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="n">direction</span><span class="o">.</span><span class="n">x</span>
		<span class="n">ball_speed</span> \<span class="o">*=</span> <span class="mf">1.1</span>
		<span class="n">direction</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">randf</span><span class="p">()</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="mi">1</span>
		<span class="n">direction</span> <span class="o">=</span> <span class="n">direction</span><span class="o">.</span><span class="n">normalized</span><span class="p">()</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">ball_pos</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
		<span class="c1"># The opponent has scored, increase his score by one</span>
		<span class="n">opponent_score</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_score&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_frame</span><span class="p">(</span><span class="n">opponent_score</span><span class="p">)</span>
		<span class="n">ball_pos</span> <span class="o">=</span> <span class="n">reset_match</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
		<span class="n">check_score</span><span class="p">()</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">ball_pos</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">x</span><span class="p">):</span>
		<span class="c1"># The player has scored, increase his score by one</span>
		<span class="n">player_score</span> <span class="o">+=</span> <span class="mi">1</span>
		<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_score&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_frame</span><span class="p">(</span><span class="n">player_score</span><span class="p">)</span>
		<span class="n">ball_pos</span> <span class="o">=</span> <span class="n">reset_match</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
		<span class="n">check_score</span><span class="p">()</span>

	<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;ball&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">)</span>

	<span class="n">update_player</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
	<span class="n">update_opponent</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">ball_pos</span><span class="p">)</span>


<span class="n">func</span> <span class="n">reset_match</span><span class="p">(</span><span class="n">ball_pos</span><span class="p">,</span> <span class="n">last_score</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Resets the game after a player has scored</span>
<span class="sd">	The direction of the ball is based on who scored last: it will go to the opposite side</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">ball_pos</span> <span class="o">=</span> <span class="n">screen_size</span> <span class="o">*</span> <span class="mf">0.5</span>
	<span class="n">ball_speed</span> <span class="o">=</span> <span class="mi">80</span>
	<span class="n">direction</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">last_score</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

	<span class="k">return</span> <span class="n">ball_pos</span>

<span class="n">func</span> <span class="n">update_player</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Updates the position of the player (left side paddle), based on input from the user</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">var</span> <span class="n">player_pos</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">Input</span><span class="o">.</span><span class="n">is_action_pressed</span><span class="p">(</span><span class="s2">&quot;left_move_up&quot;</span><span class="p">)):</span>
		<span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">Input</span><span class="o">.</span><span class="n">is_action_pressed</span><span class="p">(</span><span class="s2">&quot;left_move_down&quot;</span><span class="p">)):</span>
		<span class="n">player_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>

	<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;player_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">player_pos</span><span class="p">)</span>

<span class="n">func</span> <span class="n">update_opponent</span><span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="n">ball_pos</span><span class="p">):</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Updates the position of the opponent (right side paddle). The paddle will always try to move toawards</span>
<span class="sd">	the y position of the ball.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">var</span> <span class="n">opponent_pos</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>

	<span class="c1"># Only move the AI paddle if the ball is heading towards it</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
			<span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="o">-</span><span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">screen_size</span><span class="o">.</span><span class="n">y</span> <span class="ow">and</span> <span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">ball_pos</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
			<span class="n">opponent_pos</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">PAD_SPEED</span> <span class="o">*</span> <span class="n">delta</span>

	<span class="n">get_node</span><span class="p">(</span><span class="s2">&quot;opponent_paddle&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">opponent_pos</span><span class="p">)</span>
</code></pre></div>
</p>

<p>Next time, we&rsquo;ll add a menu system, to make it look like a real game!</p>

<p><a href="http://jeremyceri.se/post/learning-godot-part-one/">Previous post in series</a></p>

        </div>


        <aside>
          <div class="section"><a href="http://jeremyceri.se/tags/Godot" class="tag">Godot</a> <a href="http://jeremyceri.se/tags/Game%20Design" class="tag">Game Design</a> <a href="http://jeremyceri.se/tags/Game%20Development" class="tag">Game Development</a> <a href="http://jeremyceri.se/tags/Pong" class="tag">Pong</a> </div>

          <div class="section share">
            <a href="http://www.facebook.com/sharer.php?src=bm&u=http%3a%2f%2fjeremyceri.se%2fpost%2flearning-godot-part-two%2f&t=Learning%20Godot%20Part%202%3a%20Adding%20a%20simple%20AI%20to%20the%20Pong%20Example" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
            <a href="http://twitter.com/intent/tweet?url=http%3a%2f%2fjeremyceri.se%2fpost%2flearning-godot-part-two%2f&text=Learning%20Godot%20Part%202%3a%20Adding%20a%20simple%20AI%20to%20the%20Pong%20Example&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a href="https://plus.google.com/share?url=http%3a%2f%2fjeremyceri.se%2fpost%2flearning-godot-part-two%2f" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-google-plus"></i></a>
            <a href="http://getpocket.com/edit?url=http%3a%2f%2fjeremyceri.se%2fpost%2flearning-godot-part-two%2f&title=Learning%20Godot%20Part%202%3a%20Adding%20a%20simple%20AI%20to%20the%20Pong%20Example" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-get-pocket"></i></a>
          </div>

          
          
          
        </aside>

      </article>
    </div>

    <div class="col-sm-3">
      <aside class="site">

  

  
  <div class="section menu">
    <header><div class="title">Menu</div></header>

    
    <ul>
      
      <li>
        
      <li><a href="/about/"> About Me</a></li>
      
      
    </ul>
    

  </div>
  

  <div class="section">
    <header><div class="title">LatestPosts</div></header>
    <div class="content">
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/post/learning-godot-part-two/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/pong_score.png);"></div>
    <div class="detail">
      <time>Sat, Apr 2, 2016</time>
      <h2 class="title">Learning Godot Part 2: Adding a simple AI to the Pong Example</h2>
      <div class="summary">Last time, in Part one, we took the Godot Pong example, and extended it by adding a score keeping system (using some sweet hand drawn sprite images). In this installment, we&rsquo;re gonna add a very simple AI to the game, so it can be played as a single player game, rather than a two player game, as the tutorial designed it. Let&rsquo;s get started! Lets talk briefly about what we want our AI (Artificial Intelligence) to do.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/about/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/me.jpg);"></div>
    <div class="detail">
      <time>Tue, Mar 29, 2016</time>
      <h2 class="title">About Me</h2>
      <div class="summary">I am a software engineer. I program primarily in Python, Javascript, and whatever other languages strike my fancy (Kotlin, Scala, Rust, Erlang, etc). I also do other things, like miniature wargaming, downhill mountain biking, and video games. Sometimes I write about these things here. Contact me mail@jeremyceri.se Github: jcerise Twitter: jcerise</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/post/haskell-list-comprehensions/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/default.jpg);"></div>
    <div class="detail">
      <time>Tue, Mar 29, 2016</time>
      <h2 class="title">Haskell List Comprehensions</h2>
      <div class="summary">So, I&rsquo;ve recently been playing around with Haskell (for the second time, I started in on it a while back, but drifted away for one reason or another), and I&rsquo;ve been having a great time of it. I&rsquo;m just to the point where I&rsquo;m playing around with list comprehensions. List Comprehensions, for those not familiar, are basically the same as set comprehensions in mathematics. That is to say, they can be used to build lists out of other lists.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/post/learning-godot-part-one/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/pong_score.png);"></div>
    <div class="detail">
      <time>Tue, Mar 29, 2016</time>
      <h2 class="title">Learning Godot: Extending the Pong Example</h2>
      <div class="summary">In my never-ending quest to build a game, I have recently started fiddling around with the Godot engine. Godot is, to draw a parallel (and possibly an unfair one at that), kind of an interesting mash up between GameMaker: Studio, and Unity. It can handle both 2D and 3D games, although it currently really shines for building 2D games. Its supports a relatively robust, and very Python-like scripting language. And, best of all, its open source.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/post/brief-history-pittsburg-colorado/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/pittsburg.jpg);"></div>
    <div class="detail">
      <time>Fri, Mar 4, 2016</time>
      <h2 class="title">A brief history of Pittsburg, Colorado</h2>
      <div class="summary">Today, I took a short ski trip up to the ghost town of Pittsburg, and decided the town had an interesting enough history to warrant a quick post about its past. So, without further ado: The above is what Pittsburg looks today (with quite a bit of snow on the ground). No buildings left, and certainly nothing resembling a town. Nothing much at all, really, aside from some vacation homes (which are out of sight in this shot).</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://jeremyceri.se/post/cellular-automata-python/" class="clearfix">
    <div class="image" style="background-image: url(http://jeremyceri.se/images/cavern.jpg);"></div>
    <div class="detail">
      <time>Wed, Feb 20, 2013</time>
      <h2 class="title">Generating realistic (two dimensional) caverns with cellular automata</h2>
      <div class="summary">I have been building a roguelike game in python for a while now. For those not familiar with this particular type of game, I will point you here. Basically, its, as my girlfriend put it, &ldquo;About the nerdiest thing you can possibly do with a computer&rdquo;. Opinions aside, roguelikes are very enjoyable to write, as I&rsquo;ve found, as you can focus solely on gameplay, and not worry about fancy rendering engines and lots of 3D math.</div>
    </div>
  </a>
</article>
</div>
      
    </div>
  </div>

  
  <div class="section taxonomies">
    <header><div class="title">category</div></header>
    <div class="content">
      <a href="http://jeremyceri.se/categories/tutorials">tutorials</a><a href="http://jeremyceri.se/categories/godot-game-development">godot-game-development</a><a href="http://jeremyceri.se/categories/programming">programming</a><a href="http://jeremyceri.se/categories/colorado">colorado</a><a href="http://jeremyceri.se/categories/history">history</a>
    </div>
  </div>
  
  <div class="section taxonomies">
    <header><div class="title">tag</div></header>
    <div class="content">
      <a href="http://jeremyceri.se/tags/game-development">game-development</a><a href="http://jeremyceri.se/tags/godot">godot</a><a href="http://jeremyceri.se/tags/game-design">game-design</a><a href="http://jeremyceri.se/tags/pong">pong</a><a href="http://jeremyceri.se/tags/history">history</a><a href="http://jeremyceri.se/tags/pittsburg">pittsburg</a><a href="http://jeremyceri.se/tags/mining">mining</a><a href="http://jeremyceri.se/tags/haskell">haskell</a><a href="http://jeremyceri.se/tags/ghost-town">ghost-town</a><a href="http://jeremyceri.se/tags/python">python</a>
    </div>
  </div>
  

</aside>

    </div>

  </div>

      </div>

    <footer class="site">
      <p>&copy; 2016 Jeremy Cerise</p>
      <p>Powered by <a href="http://gohugo.io" target="_blank" rel="nofollow">Hugo</a>, Theme <a href="https://github.com/dim0627/hugo_theme_robust" target="_blank" rel="nofollow">robust</a> designed by <a href="http://yet.unresolved.xyz" target="_blank" rel="nofollow">Daisuke Tsuji</a></p>
    </footer>

    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    

  </body>
</html>

</div>
